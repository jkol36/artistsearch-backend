import twitter from 'twitter'
import parser from 'xml-to-json-promise'
import osmosis from 'osmosis'
import selector from 'css2xpath'
import cheerio from 'cheerio'
const Promise = require('bluebird')
const agent = require('superagent').agent()


export function fetchTwitterInfo(username) {
		const jkol36 = new twitter({
		consumer_key:process.env.CONSUMER_KEY,
		consumer_secret: process.env.CONSUMER_SECRET,
		access_token_key:process.env.ACCESS_TOKEN,
		access_token_secret:process.env.ACCESS_TOKEN_SECRET
	})
	return new Promise((resolve, reject)=> {
		jkol36.get('users/show', {screen_name: username}, function(error, response){
			let friendsCount = response.friends_count ? response.friends_count: 0
			let followersCount = response.followers_count ? response.followers_count: 0
			resolve({friendsCount, followersCount, ratio:friendsCount/followersCount})
		})
	})
}

export function getPageDetails(pageUrl) {
	return new Promise((resolve, reject)=> {
		osmosis
		.get(pageUrl)
		.delay(30)
		.then(console.log)
		.find('#u_0_t > div > div:nth-child(1) > div._5cui > div._50f6._50f7._5tfx')
		.set('pageLikes')
		.data((data)=> resolve(data))
		.error((e)=> reject(e))
	})
}


export function parseArtistsPollstarPage(html) {
	return new Promise((resolve, reject)=> {
		let $ = cheerio.load(html, {
			xmlMode: true,
			normalizeWhitespace: true
		})
		let totalHeadlineRpts = $('#ctl10_ctl01_lblQB1').text()
		let avgTicketsSold = $('#ctl10_ctl01_lblQB2').text()
		let avgGross = $('#ctl10_ctl01_lblQB3').text()
		let headLineShows = $('#ctl10_ctl01_lblHeadlineShows').text()
		resolve({
			totalHeadlineRpts,
			avgTicketsSold,
			avgGross,
			headLineShows
		})
	})
}

export function queryPollstarArtistUrl(url, headers) {
	return new Promise((resolve, reject)=> {
		agent
		.get(url)
		.set(Object.assign({}, {'set-cookie': headers['set-cookie'][0]}))
		.end((err, res)=> {
			if(err) {
				reject(err)
			}
			else {
				resolve(res.text)
			}
		})
	})
}
export function getPollstarArtistUrl(html, query) {
	return new Promise((resolve, reject)=> {
		let $ = cheerio.load(html, {
			normalizeWhitespace:true,
			xmlMode:true
		})
		let searchResultLength = $('#ctl10_ctl01_artistGridView').find('tr').find('td').find('a').length
		if(searchResultLength > 1) {
			let searchResults = $('#ctl10_ctl01_artistGridView').find('tr').find('td').find('a').toArray()
				searchResults.forEach((result)=> {
				let url = $(result).attr('href')
				let artistName = $(result).text()
				if(artistName.split(' ').join('').toLowerCase() === query.split(' ').join('').toLowerCase() ||
					artistName.split('.').join('').split(' ').join('').toLowerCase() === query.split(' ').join('').toLowerCase()){
					resolve(url)
				}
		})
		}
		else if(searchResultLength === 1) {
			 resolve($('#ctl10_ctl01_artistGridView').find('tr').find('td').find('a').attr('href'))
		}
	})
}
export function searchPollstar(headers, q) {
	let query = q.split(' ').join('+')
	return new Promise((resolve, reject)=> {
		let url = `http://www.pollstarpro.com/search.aspx?ArticleID=34&id=research&SearchFor=${query}&th=1&sa=1&sv=1&sc=1&ths=1`
		agent
		.get(url)
		.set(Object.assign({}, {'set-cookie': headers['set-cookie'][0]}))
		.end((err, res)=> {
			if(err) {
				reject(err)
			}
			else {
				resolve(res.text)
			}
		})

	})
} 
export function authWithPollstar(username, password) {
	let dataString = '__LASTFOCUS=&__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUJNDY1MDEzNTc0D2QWAgIDD2QWBgIBD2QWAmYPPCsACQBkAgMPZBYGAgEPZBYCZg9kFgJmD2QWOgIBDw8WAh4LTmF2aWdhdGVVcmwFH2h0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL2hvbWVkZAIDDxYCHgdWaXNpYmxlZ2QCBQ9kFgICAQ8WAh8BaBYCAgEPEGQPFgZmAgECAgIDAgQCBRYGEAUGRXZlbnRzBQZFdmVudHNnEAUGQXJ0aXN0BQZBcnRpc3RnEAUISW5kdXN0cnkFCEluZHVzdHJ5ZxAFBE5ld3MFBE5ld3NnEAUMVG91ciBIaXN0b3J5BQtUb3VySGlzdG9yeWcQBQVWZW51ZQUFVmVudWVnFgECBGQCBw8PFgIfAAUfaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vaG9tZRYCHgVzdHlsZQUGY29sb3I6ZAIJDw8WAh8ABUNodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0xNDE5NCZpZD1ob21lFgIfAgUGY29sb3I6ZAILDw8WAh8ABUZodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0yMyZjYXQ9MyZpZD1uZXdzFgIfAgUGY29sb3I6ZAINDw8WAh8ABURodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0yMzIwMSZpZD1mb3JtcxYCHwIFBmNvbG9yOmQCDw8PFgIfAAVDaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9ODY2JmlkPXBob3Rvc2RkAhEPDxYEHgZUYXJnZXQFBl9ibGFuax8ABTZodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9hZHZlcnRpc2luZy9hZHZlcnRpbmRleC5odG1kZAITDw8WBB8ABSNodHRwczovL3N0b3JlLnBvbGxzdGFyLmNvbT9za2luaWQ9Mh8DBQZfYmxhbmtkZAIVDw8WAh8ABUNodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0xNDE5NCZpZD1ob21lZGQCFw8PFgIfAAVDaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9MTQxOTQmaWQ9aG9tZWRkAhkPDxYCHwAFQ2h0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTE0MTk0JmlkPWhvbWVkZAIbDw8WAh8ABUZodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0yMyZjYXQ9MyZpZD1uZXdzZGQCHQ8PFgIfAAVHaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9MjMmY2F0PTI2JmlkPW5ld3NkZAIfDw8WAh8ABUNodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0xNDE5NCZpZD1ob21lZGQCIQ8PFgIfAAVKaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9pZD1uZXdzJmNhdD0yMSZBcnRpY2xlSUQ9MjY0NzlkZAIjDw8WAh8ABUNodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0xNDE5NCZpZD1ob21lZGQCJQ8PFgIfAAVEaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9MjMyMDEmaWQ9Zm9ybXNkZAInDw8WAh8ABUVodHRwczovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9MTUwMjImaWQ9Zm9ybXNkZAIpDw8WAh8ABSZodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS91cGRhdGVmb3Jtc2RkAisPDxYCHwAFQ2h0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTE0MTk0JmlkPWhvbWVkZAItDw8WAh8ABUNodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0xNDE5NCZpZD1ob21lZGQCLw8PFgIfAAVDaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9MTQxOTQmaWQ9aG9tZWRkAjEPDxYCHwAFQ2h0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTE0MTk0JmlkPWhvbWVkZAIzDw8WAh8ABUNodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0xNDE5NCZpZD1ob21lZGQCNQ8PFgIfAAVDaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9MTQxOTQmaWQ9aG9tZWRkAjcPDxYCHwAFQ2h0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTg2NiZpZD1waG90b3NkZAI5Dw8WAh8ABUNodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD04OTYmaWQ9cGhvdG9zZGQCAw9kFgYCAQ9kFgICAQ9kFgRmD2QWAmYPZBYCAgEPZBYGAgEPDxYEHwAFQWh0dHBzOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0yNiZpZD1ob21lHwMFBl9ibGFua2RkAgcPDxYCHgtQb3N0QmFja1VybAVCaHR0cHM6Ly93d3cucG9sbHN0YXJwcm8uY29tL2NvbnRyb2xzL2NvbnRlbnQvbWFpbkxvZ2luSGFuZGxlci5hc3B4ZGQCDQ8PFgIfAAVDaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9MTQxOTcmaWQ9aG9tZWRkAgEPDxYCHwFoZGQCAw9kFgICAQ9kFgYCAQ8PFgIeBFRleHQFF1RodXJzZGF5LCBBdWcgMTEsIDIwMTYgZGQCAw9kFgJmDxYCHwUFlQM8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI%2BdmFyIGluZGV4ID0gMDt2YXIgcm90YXRlID0gdHJ1ZTtmdW5jdGlvbiByb3RhdGVGZWF0dXJlcygpe2lmICghcm90YXRlKQlyZXR1cm47c3dpdGNoKGluZGV4KXsgY2FzZSAwOglzaG93RmVhdHVyZTEoKTsJaW5kZXgrKzsgYnJlYWs7Y2FzZSAxOglzaG93RmVhdHVyZTIoKTsJaW5kZXgrKzsgYnJlYWs7Y2FzZSAyOglzaG93RmVhdHVyZTMoKTsJaW5kZXgrKzsgYnJlYWs7Y2FzZSAzOglzaG93RmVhdHVyZTQoKTsJaW5kZXgrKzsgYnJlYWs7Y2FzZSA0OglzaG93RmVhdHVyZTUoKTsJaW5kZXgrKzsgYnJlYWs7IH1pZiAoaW5kZXggPT0gNCkJaW5kZXggPSAwO2lmIChyb3RhdGUpCXNldFRpbWVvdXQocm90YXRlRmVhdHVyZXMsIDQwMDApOyB9ICA8L3NjcmlwdD5kAgUPZBYIAgEPFgIeC18hSXRlbUNvdW50AgIWBGYPZBYCAgEPDxYCHwUF1Qc8dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9ImRhdGUiPjxzcGFuIGNsYXNzPSJtb250aCI%2BQXVnPC9zcGFuPjxzcGFuIGNsYXNzPSJkYXkiPjExPC9zcGFuPjwvZGl2PjwvdGQ%2BPHRkPjx0YWJsZSB3aWR0aD0iMTAwJSI%2BPHRyPjx0ZCB2YWxpZ249InRvcCI%2BPGRpdiBjbGFzcz0ibmV3c2ltZyI%2BPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjQ0Ij48aW1nIHNyYz0iaHR0cDovL2ltYWdlLnBvbGxzdGFyLmNvbS9XZWJsb2dGaWxlcy9wb2xsc3Rhci8xNjA4MTEwMTQwMDQxMTA2NTY5X3YzLmpwZyIgYWx0PSJQaG90byIgY2xhc3M9InBob3RvbmV3cyIvPjwvYT48L2Rpdj48aDQ%2BPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjQ0Ij5EaWNrIFNoYWZmIERpZXM8L2E%2BPC9oND48cCBjbGFzcz0iSG9tZVBhZ2VUZWFzZXIiPlJpY2hhcmQg4oCcRGlja%2BKAnSBTaGFmZiwgNzcsIGxvbmd0aW1lIGhlYWQgb2YgdGhlIE1vc2NvbmUgQ2VudGVyIGluIFNhbiBGcmFuY2lzY28sIGRpZWQgZnJvbSBhIGJsb29kIGNsb3QgaW4gaGlzIGhlYXJ0IHdoaWxlIGRyaXZpbmcgdG8gYSBwYXJ0eSBmb3IgYSBjb3dvcmtlciBBdWcuIDIuwqAKPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjQ0IiBDbGFzcz0idXRpbGl0eV9ibHVlIj5tb3JlPC9hPjwvcD48ZGl2IGNsYXNzPSJtZXRhIj48c3BhbiBjbGFzcz0iZGF0ZSI%2BMDE6MzBQTSwgVGh1cnNkYXk8L3NwYW4%2BPHNwYW4gY2xhc3M9InJpZ2h0Ij48ZW0gY2xhc3M9ImNvbW1lbnRzIj48L2VtPjwvc3Bhbj48L2Rpdj48L3RkPjwvdHI%2BPC90YWJsZT48L3RkPjwvdHI%2BPC90YWJsZT5kZAIBD2QWAgIBDw8WAh8FBckHPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJkYXRlIj48c3BhbiBjbGFzcz0ibW9udGgiPkF1Zzwvc3Bhbj48c3BhbiBjbGFzcz0iZGF5Ij4xMTwvc3Bhbj48L2Rpdj48L3RkPjx0ZD48dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9Im5ld3NpbWciPjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjI0NSI%2BPGltZyBzcmM9Imh0dHA6Ly9pbWFnZS5wb2xsc3Rhci5jb20vV2VibG9nRmlsZXMvcG9sbHN0YXIvMTYwODExMDE0MzE2MzQ1MTMwMl92My5qcGciIGFsdD0iUGhvdG8iIGNsYXNzPSJwaG90b25ld3MiLz48L2E%2BPC9kaXY%2BPGg0PjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjI0NSI%2BQmlsbCBMdXRoZXIgRGllczwvYT48L2g0PjxwIGNsYXNzPSJIb21lUGFnZVRlYXNlciI%2BQmlsbCBMdXRoZXIsIDg5LCBmYWNpbGl0eSBtYW5hZ2VyIGZvciB0aGUgY2l0eSBvZiBOb3Jmb2xrLCBWYS4sIGZyb20gMTk4OCB0byAyMDAwLCBkaWVkIGluIFNwYXJ0YW5idXJnLCBOLkMuLCBhZnRlciBhIHllYXJzLWxvbmcgZmlnaHQgd2l0aCBjYW5jZXIgQXVnLiA4LsKgCjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjI0NSIgQ2xhc3M9InV0aWxpdHlfYmx1ZSI%2BbW9yZTwvYT48L3A%2BPGRpdiBjbGFzcz0ibWV0YSI%2BPHNwYW4gY2xhc3M9ImRhdGUiPjAxOjE1UE0sIFRodXJzZGF5PC9zcGFuPjxzcGFuIGNsYXNzPSJyaWdodCI%2BPGVtIGNsYXNzPSJjb21tZW50cyI%2BPC9lbT48L3NwYW4%2BPC9kaXY%2BPC90ZD48L3RyPjwvdGFibGU%2BPC90ZD48L3RyPjwvdGFibGU%2BZGQCAw9kFgICAQ8PFgQeCEltYWdlVXJsBSAvYXNzZXRzL2ltYWdlcy9hZHZlcnRpc2VtZW50LmdpZh8BZ2RkAgUPFgIfBgINFhpmD2QWAgIBDw8WAh8FBboIPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJkYXRlIj48c3BhbiBjbGFzcz0ibW9udGgiPkF1Zzwvc3Bhbj48c3BhbiBjbGFzcz0iZGF5Ij4xMTwvc3Bhbj48L2Rpdj48L3RkPjx0ZD48dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9Im5ld3NpbWciPjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIzNSI%2BPGltZyBzcmM9Imh0dHA6Ly9pbWFnZS5wb2xsc3Rhci5jb20vV2VibG9nRmlsZXMvcG9sbHN0YXIvMTUwNjExMDYwNTM3MjM3OTk5Ml92My5qcGciIGFsdD0iUGhvdG8iIGNsYXNzPSJwaG90b25ld3MiLz48L2E%2BPC9kaXY%2BPGg0PjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIzNSI%2BSnVkZ2UgUHVzaGVkIEZvciBQYXNxdWFsZSBQbGVhIERlYWw8L2E%2BPC9oND48cCBjbGFzcz0iSG9tZVBhZ2VUZWFzZXIiPlRoZSBqdWRnZSBvdmVyc2VlaW5nIFBhc3F1YWxlIFJvdGVsbGHigJlzIGNyaW1pbmFsIHRyaWFsIHVyZ2VkIHByb3NlY3V0b3JzIHRvIHN0cmlrZSBhIHBsZWEgZGVhbCB3aXRoIHRoZSBFRE0gcHJvbW90ZXIgYW5kIGhpcyBjb2RlZmVuZGFudHMgYWZ0ZXIgYSByYXVjb3VzIEp1bHkgMjkgaGVhcmluZyBpbiB3aGljaCBkZWZlbnNlIGF0dG9ybmV5cyBwcmVzZW50ZWQgbmV3IGV2aWRlbmNlIG9mIHByb3NlY3V0b3JpYWwgbWlzY29uZHVjdC4KPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjM1IiBDbGFzcz0idXRpbGl0eV9ibHVlIj5tb3JlPC9hPjwvcD48ZGl2IGNsYXNzPSJtZXRhIj48c3BhbiBjbGFzcz0iZGF0ZSI%2BMDk6MzBBTSwgVGh1cnNkYXk8L3NwYW4%2BPHNwYW4gY2xhc3M9InJpZ2h0Ij48ZW0gY2xhc3M9ImNvbW1lbnRzIj48L2VtPjwvc3Bhbj48L2Rpdj48L3RkPjwvdHI%2BPC90YWJsZT48L3RkPjwvdHI%2BPC90YWJsZT5kZAIBD2QWAgIBDw8WAh8FBagIPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJkYXRlIj48c3BhbiBjbGFzcz0ibW9udGgiPkF1Zzwvc3Bhbj48c3BhbiBjbGFzcz0iZGF5Ij4xMTwvc3Bhbj48L2Rpdj48L3RkPjx0ZD48dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9Im5ld3NpbWciPjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyMCI%2BPGltZyBzcmM9Imh0dHA6Ly9pbWFnZS5wb2xsc3Rhci5jb20vV2VibG9nRmlsZXMvcG9sbHN0YXIvMTYwNjAxMDUyMjA0Mzg4MzYzNl92My5qcGciIGFsdD0iUGhvdG8iIGNsYXNzPSJwaG90b25ld3MiLz48L2E%2BPC9kaXY%2BPGg0PjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyMCI%2BQ0FB4oCZcyBCaWcgQm9vazwvYT48L2g0PjxwIGNsYXNzPSJIb21lUGFnZVRlYXNlciI%2BVGhlIGVwaWMgcmV0ZWxsaW5nIG9mIHRoZSBzdG9yeSBvZiBDQUEgd2FzIHB1Ymxpc2hlZCBBdWcuIDksIGEgbW9yZSB0aGFuIDcwMC1wYWdlIGJvb2sgYnkgSmFtZXMgQW5kcmV3IE1pbGxlciB0aGF0IHdhcyBkZWNhZGVzIGluIHRoZSBtYWtpbmcgYW5kIGluY2x1ZGVzIGludGVydmlld3Mgd2l0aCA1MDAgcGVvcGxlLiBIZXJl4oCZcyB3aGF0IHdlIGtuZXcgYXQgcHJlc3MgdGltZSwgd2l0aCBtYW55IG9mIHRoZSBwYWdlcyB1bnJlYWQuwqAKPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjIwIiBDbGFzcz0idXRpbGl0eV9ibHVlIj5tb3JlPC9hPjwvcD48ZGl2IGNsYXNzPSJtZXRhIj48c3BhbiBjbGFzcz0iZGF0ZSI%2BMDI6MzBBTSwgVGh1cnNkYXk8L3NwYW4%2BPHNwYW4gY2xhc3M9InJpZ2h0Ij48ZW0gY2xhc3M9ImNvbW1lbnRzIj48L2VtPjwvc3Bhbj48L2Rpdj48L3RkPjwvdHI%2BPC90YWJsZT48L3RkPjwvdHI%2BPC90YWJsZT5kZAICD2QWAgIBDw8WAh8FBf4HPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJkYXRlIj48c3BhbiBjbGFzcz0ibW9udGgiPkF1Zzwvc3Bhbj48c3BhbiBjbGFzcz0iZGF5Ij4xMTwvc3Bhbj48L2Rpdj48L3RkPjx0ZD48dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9Im5ld3NpbWciPjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyMiI%2BPGltZyBzcmM9Imh0dHA6Ly9pbWFnZS5wb2xsc3Rhci5jb20vV2VibG9nRmlsZXMvcG9sbHN0YXIvMTYwODEwMDQyMjE2MjAwMjgzOF92My5qcGciIGFsdD0iUGhvdG8iIGNsYXNzPSJwaG90b25ld3MiLz48L2E%2BPC9kaXY%2BPGg0PjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyMiI%2BRnQuIFdheW5lIE1haW5zdGF5IFBpZXJl4oCZcyBDbG9zZXM8L2E%2BPC9oND48cCBjbGFzcz0iSG9tZVBhZ2VUZWFzZXIiPlBpZXJl4oCZcyBFbnRlcnRhaW5tZW50IENlbnRlciBpbiBGb3J0IFdheW5lLCBJbmQuLCBoYXMgY2xvc2VkIGF0IGxlYXN0IHRlbXBvcmFyaWx5IHdoaWxlIGl0IHVuZGVyZ29lcyBhbiDigJxleHRlbnNpdmUgcmVtb2RlbOKAnSB1bmRlciBuZXcgb3duZXJzaGlwIG9mIEluZGlhbmEtYmFzZWQgSGVhZGxpbmVyIE1hcmtldGluZy4gwqAKPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjIyIiBDbGFzcz0idXRpbGl0eV9ibHVlIj5tb3JlPC9hPjwvcD48ZGl2IGNsYXNzPSJtZXRhIj48c3BhbiBjbGFzcz0iZGF0ZSI%2BMDI6MjVBTSwgVGh1cnNkYXk8L3NwYW4%2BPHNwYW4gY2xhc3M9InJpZ2h0Ij48ZW0gY2xhc3M9ImNvbW1lbnRzIj48L2VtPjwvc3Bhbj48L2Rpdj48L3RkPjwvdHI%2BPC90YWJsZT48L3RkPjwvdHI%2BPC90YWJsZT5kZAIDD2QWAgIBDw8WAh8FBYsIPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJkYXRlIj48c3BhbiBjbGFzcz0ibW9udGgiPkF1Zzwvc3Bhbj48c3BhbiBjbGFzcz0iZGF5Ij4xMTwvc3Bhbj48L2Rpdj48L3RkPjx0ZD48dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9Im5ld3NpbWciPjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyMyI%2BPGltZyBzcmM9Imh0dHA6Ly9pbWFnZS5wb2xsc3Rhci5jb20vV2VibG9nRmlsZXMvcG9sbHN0YXIvMTMwNTA4MDExODUzNDYwNDE1Nl92My5qcGciIGFsdD0iUGhvdG8iIGNsYXNzPSJwaG90b25ld3MiLz48L2E%2BPC9kaXY%2BPGg0PjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyMyI%2BR3VuIEJhbiBTdGFuZHMgQXQgSW93YSBTdGF0ZSBGYWlyPC9hPjwvaDQ%2BPHAgY2xhc3M9IkhvbWVQYWdlVGVhc2VyIj5MYXdtYWtlcnMgaGVhcmQgc3Bpcml0ZWQgZGViYXRlIEF1Zy4gNSBvdmVyIHdoZXRoZXIgZmlyZWFybXMgc2hvdWxkIGJlIGFsbG93ZWQgaW50byB0aGUgSW93YSBTdGF0ZSBGYWlyLCBidXQgdGhlIGN1cnJlbnQgYmFuIG9uIGd1bnMgaXMgZXhwZWN0ZWQgdG8gc3RheSBmb3IgdGhpcyB5ZWFy4oCZcyBmYWlyLCBzY2hlZHVsZWQgZm9yIEF1Zy4gMTEtMjEuIMKgCjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyMyIgQ2xhc3M9InV0aWxpdHlfYmx1ZSI%2BbW9yZTwvYT48L3A%2BPGRpdiBjbGFzcz0ibWV0YSI%2BPHNwYW4gY2xhc3M9ImRhdGUiPjAyOjIwQU0sIFRodXJzZGF5PC9zcGFuPjxzcGFuIGNsYXNzPSJyaWdodCI%2BPGVtIGNsYXNzPSJjb21tZW50cyI%2BPC9lbT48L3NwYW4%2BPC9kaXY%2BPC90ZD48L3RyPjwvdGFibGU%2BPC90ZD48L3RyPjwvdGFibGU%2BZGQCBA9kFgICAQ8PFgIfBQXYBzx0YWJsZSB3aWR0aD0iMTAwJSI%2BPHRyPjx0ZCB2YWxpZ249InRvcCI%2BPGRpdiBjbGFzcz0iZGF0ZSI%2BPHNwYW4gY2xhc3M9Im1vbnRoIj5BdWc8L3NwYW4%2BPHNwYW4gY2xhc3M9ImRheSI%2BMTE8L3NwYW4%2BPC9kaXY%2BPC90ZD48dGQ%2BPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJuZXdzaW1nIj48YSBocmVmPSJodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0wJmNvbT0xJkFydGljbGVJRD04MjYyMjUiPjxpbWcgc3JjPSJodHRwOi8vaW1hZ2UucG9sbHN0YXIuY29tL1dlYmxvZ0ZpbGVzL3BvbGxzdGFyLzE2MDgxMDA0MzAxODU1ODU1MTBfdjMuanBnIiBhbHQ9IlBob3RvIiBjbGFzcz0icGhvdG9uZXdzIi8%2BPC9hPjwvZGl2PjxoND48YSBocmVmPSJodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0wJmNvbT0xJkFydGljbGVJRD04MjYyMjUiPlRhbGVudCBNYW5hZ2VycyBWaWN0aW0gT2YgRW1iZXp6bGVtZW50PC9hPjwvaDQ%2BPHAgY2xhc3M9IkhvbWVQYWdlVGVhc2VyIj5UYWxlbnQgTWFuYWdlcnMgQXNzb2NpYXRpb24gaGFzIHByZXNzZWQgY2hhcmdlcyBhZ2FpbnN0IGFuIHVubmFtZWQgYWZmaWxpYXRlLCBjbGFpbWluZyB0aGUgbm9ucHJvZml0IG9yZ2FuaXphdGlvbiBoYXMgbG9zdCAkNDIsMDAwIHRvIGVtYmV6emxlbWVudC7CoAo8YSBocmVmPSJodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0wJmNvbT0xJkFydGljbGVJRD04MjYyMjUiIENsYXNzPSJ1dGlsaXR5X2JsdWUiPm1vcmU8L2E%2BPC9wPjxkaXYgY2xhc3M9Im1ldGEiPjxzcGFuIGNsYXNzPSJkYXRlIj4wMjoxNUFNLCBUaHVyc2RheTwvc3Bhbj48c3BhbiBjbGFzcz0icmlnaHQiPjxlbSBjbGFzcz0iY29tbWVudHMiPjwvZW0%2BPC9zcGFuPjwvZGl2PjwvdGQ%2BPC90cj48L3RhYmxlPjwvdGQ%2BPC90cj48L3RhYmxlPmRkAgUPZBYCAgEPDxYCHwUF3Ac8dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9ImRhdGUiPjxzcGFuIGNsYXNzPSJtb250aCI%2BQXVnPC9zcGFuPjxzcGFuIGNsYXNzPSJkYXkiPjExPC9zcGFuPjwvZGl2PjwvdGQ%2BPHRkPjx0YWJsZSB3aWR0aD0iMTAwJSI%2BPHRyPjx0ZCB2YWxpZ249InRvcCI%2BPGRpdiBjbGFzcz0ibmV3c2ltZyI%2BPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjI0Ij48aW1nIHNyYz0iaHR0cDovL2ltYWdlLnBvbGxzdGFyLmNvbS9XZWJsb2dGaWxlcy9wb2xsc3Rhci8xNjAyMjYwOTI2MDA0NTE3NTY3X3YzLmpwZyIgYWx0PSJQaG90byIgY2xhc3M9InBob3RvbmV3cyIvPjwvYT48L2Rpdj48aDQ%2BPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjI0Ij5GYW4gU3VlcyBPdmVyIFNGIEFjY2lkZW50PC9hPjwvaDQ%2BPHAgY2xhc3M9IkhvbWVQYWdlVGVhc2VyIj5MaXZlIE5hdGlvbiBhbmQgdGhlIGZhY2lsaXR5IG9wZXJhdG9yIGZvciBBVCZUIFBhcmsgaW4gU2FuIEZyYW5jaXNjbyBhcmUgYmVpbmcgc3VlZCBmb3IgYW4gYWxsZWdlZCBhY2NpZGVudCB0aGF0IHRvb2sgcGxhY2UgZHVyaW5nIGEgQmV5b25jw6kgLyBKYXkgWiBjb25jZXJ0IGluIDIwMTQuCjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyNCIgQ2xhc3M9InV0aWxpdHlfYmx1ZSI%2BbW9yZTwvYT48L3A%2BPGRpdiBjbGFzcz0ibWV0YSI%2BPHNwYW4gY2xhc3M9ImRhdGUiPjAyOjEwQU0sIFRodXJzZGF5PC9zcGFuPjxzcGFuIGNsYXNzPSJyaWdodCI%2BPGVtIGNsYXNzPSJjb21tZW50cyI%2BPC9lbT48L3NwYW4%2BPC9kaXY%2BPC90ZD48L3RyPjwvdGFibGU%2BPC90ZD48L3RyPjwvdGFibGU%2BZGQCBg9kFgICAQ8PFgIfBQW%2FBzx0YWJsZSB3aWR0aD0iMTAwJSI%2BPHRyPjx0ZCB2YWxpZ249InRvcCI%2BPGRpdiBjbGFzcz0iZGF0ZSI%2BPHNwYW4gY2xhc3M9Im1vbnRoIj5BdWc8L3NwYW4%2BPHNwYW4gY2xhc3M9ImRheSI%2BMTE8L3NwYW4%2BPC9kaXY%2BPC90ZD48dGQ%2BPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJuZXdzaW1nIj48YSBocmVmPSJodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0wJmNvbT0xJkFydGljbGVJRD04MjYyMjYiPjxpbWcgc3JjPSJodHRwOi8vaW1hZ2UucG9sbHN0YXIuY29tL1dlYmxvZ0ZpbGVzL3BvbGxzdGFyLzE2MDgxMDA0MzIzNDcxMjcwMjJfdjMuanBnIiBhbHQ9IlBob3RvIiBjbGFzcz0icGhvdG9uZXdzIi8%2BPC9hPjwvZGl2PjxoND48YSBocmVmPSJodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0wJmNvbT0xJkFydGljbGVJRD04MjYyMjYiPk9uZSBMb3ZlIEZlc3RpdmFsIENhbmNlbGVkIEZvciBHb29kPC9hPjwvaDQ%2BPHAgY2xhc3M9IkhvbWVQYWdlVGVhc2VyIj5UaGUgYXR0ZW1wdGVkIGNvdXAgaW4gVHVya2V5IG9uIHRoZSB3ZWVrZW5kIG9mIEp1bHkgMTUtMTcgbWFkZSB0aGUgY29udGludWF0aW9uIG9mIHRoZSBPbmUgTG92ZSBldmVudCBpbiBJc3RhbmJ1bCBpbXBvc3NpYmxlLsKgCjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyNiIgQ2xhc3M9InV0aWxpdHlfYmx1ZSI%2BbW9yZTwvYT48L3A%2BPGRpdiBjbGFzcz0ibWV0YSI%2BPHNwYW4gY2xhc3M9ImRhdGUiPjAyOjEwQU0sIFRodXJzZGF5PC9zcGFuPjxzcGFuIGNsYXNzPSJyaWdodCI%2BPGVtIGNsYXNzPSJjb21tZW50cyI%2BPC9lbT48L3NwYW4%2BPC9kaXY%2BPC90ZD48L3RyPjwvdGFibGU%2BPC90ZD48L3RyPjwvdGFibGU%2BZGQCBw9kFgICAQ8PFgIfBQW7Bzx0YWJsZSB3aWR0aD0iMTAwJSI%2BPHRyPjx0ZCB2YWxpZ249InRvcCI%2BPGRpdiBjbGFzcz0iZGF0ZSI%2BPHNwYW4gY2xhc3M9Im1vbnRoIj5BdWc8L3NwYW4%2BPHNwYW4gY2xhc3M9ImRheSI%2BMTE8L3NwYW4%2BPC9kaXY%2BPC90ZD48dGQ%2BPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJuZXdzaW1nIj48YSBocmVmPSJodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0wJmNvbT0xJkFydGljbGVJRD04MjYyMjciPjxpbWcgc3JjPSJodHRwOi8vaW1hZ2UucG9sbHN0YXIuY29tL1dlYmxvZ0ZpbGVzL3BvbGxzdGFyLzE2MDgxMDA0MzUwNjcyMjQwMzhfdjMuanBnIiBhbHQ9IlBob3RvIiBjbGFzcz0icGhvdG9uZXdzIi8%2BPC9hPjwvZGl2PjxoND48YSBocmVmPSJodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0wJmNvbT0xJkFydGljbGVJRD04MjYyMjciPlJldmFtcGVkIExlZUZlc3QgQ2VsZWJyYXRlcyBTdWNjZXNzZnVsIFByZW1pZXJlPC9hPjwvaDQ%2BPHAgY2xhc3M9IkhvbWVQYWdlVGVhc2VyIj5BZnRlciB0YWtpbmcgYSBicmVhayBpbiAyMDE1LCBMZWVGZXN0IGluIEtlbnQsIFVLLCByZXR1cm5lZCB0byBhIGxhcmdlciBzaXRlIHdpdGggYSBtb3JlIGV4dGVuc2l2ZSBvZmZlcmluZy4gwqAKPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjI3IiBDbGFzcz0idXRpbGl0eV9ibHVlIj5tb3JlPC9hPjwvcD48ZGl2IGNsYXNzPSJtZXRhIj48c3BhbiBjbGFzcz0iZGF0ZSI%2BMDI6MTBBTSwgVGh1cnNkYXk8L3NwYW4%2BPHNwYW4gY2xhc3M9InJpZ2h0Ij48ZW0gY2xhc3M9ImNvbW1lbnRzIj48L2VtPjwvc3Bhbj48L2Rpdj48L3RkPjwvdHI%2BPC90YWJsZT48L3RkPjwvdHI%2BPC90YWJsZT5kZAIID2QWAgIBDw8WAh8FBYUGPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJkYXRlIj48c3BhbiBjbGFzcz0ibW9udGgiPkF1Zzwvc3Bhbj48c3BhbiBjbGFzcz0iZGF5Ij4xMTwvc3Bhbj48L2Rpdj48L3RkPjx0ZD48ZGl2IGNsYXNzPSJIb21lUGFnZVBob3RvTmV3cyI%2BPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIGNvbHNwYW49IjIiIHZhbGlnbj0idG9wIj48L3RkPjwvdHI%2BPHRyPjx0ZCB2YWxpZ249InRvcCI%2BPHAgY2xhc3M9IkhvbWVQYWdlUGhvdG8iPjxhIGhyZWY9J2h0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTg5NiZpZD1waG90b3MmR2FsbGVyeUlEPS0xJlBob3RvSUQ9ODQyODU2Jz48aW1nIHNyYz0iaHR0cDovL2ltYWdlLnBvbGxzdGFyLmNvbS9XZWJsb2dGaWxlcy9wb2xsc3Rhci8xNjA4MTAwNDQ2NTA1OTQwOTQ3X3YzLmpwZyIgYWx0PSJQaG90byIgY2xhc3M9InBob3RvbmV3cyIvPjwvYT48L3A%2BPC90ZD48dGQgdmFsaWduPSJ0b3AiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6IDEwcHg7Ij5FbW15IEF3YXJkIHdpbm5pbmcgR2FtZXMgb2YgVGhyb25lcyBoaXRzIHRoZSBzdGFnZSBuZXh0IHllYXIgb24gYSAyOC1jaXR5IHRvdXIgZmVhdHVyaW5nIGNvbXBvc2VyIFJhbWluIERqYXdhZGkgYW5kIHByZXNlbnRlZCBieSBMaXZlIE5hdGlvbi4KPC90ZD48dHI%2BPHRkIGNvbHNwYW49IjIiIHZhbGlnbj0idG9wIj48L3RkPjwvdHI%2BPC90YWJsZT48L2Rpdj48L3RkPjwvdHI%2BPC90YWJsZT5kZAIJD2QWAgIBDw8WAh8FBcwIPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJkYXRlIj48c3BhbiBjbGFzcz0ibW9udGgiPkF1Zzwvc3Bhbj48c3BhbiBjbGFzcz0iZGF5Ij4xMTwvc3Bhbj48L2Rpdj48L3RkPjx0ZD48dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9Im5ld3NpbWciPjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyOCI%2BPGltZyBzcmM9Imh0dHA6Ly9pbWFnZS5wb2xsc3Rhci5jb20vV2VibG9nRmlsZXMvcG9sbHN0YXIvMTYwODEwMDQ0MzIxNjg2NDkyOF92My5qcGciIGFsdD0iUGhvdG8iIGNsYXNzPSJwaG90b25ld3MiLz48L2E%2BPC9kaXY%2BPGg0PjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIyOCI%2BVGVuc2UgUmVsYXRpb25zIFRocmVhdGVuIENvbmNlcnRzPC9hPjwvaDQ%2BPHAgY2xhc3M9IkhvbWVQYWdlVGVhc2VyIj5BIGdyb3VwIG9mIG9wcG9zaXRpb24gbGF3bWFrZXJzIGZyb20gU291dGggS29yZWEgdHJhdmVsZWQgdG8gQ2hpbmEgb24gQXVnLiA4IHRvIHRhbGsgdG8gb2ZmaWNpYWxzIHRoZXJlIGFib3V0IENoaW5hJ3MgYWN0aW9ucyByZWdhcmRpbmcgYSBtaXNzaWxlIGRlZmVuc2Ugc3lzdGVtIGRlcGxveWVkIGpvaW50bHkgYnkgdGhlIFUuUy4gYW5kIFNvdXRoIEtvcmVhLiBTSyBQcmVzaWRlbnQgUGFyayBHZXVuLWh5ZSBoYXMgb2JqZWN0ZWQgc3Ryb25nbHkgdG8gdGhlIHZpc2l0LsKgPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjI4IiBDbGFzcz0idXRpbGl0eV9ibHVlIj5tb3JlPC9hPjwvcD48ZGl2IGNsYXNzPSJtZXRhIj48c3BhbiBjbGFzcz0iZGF0ZSI%2BMDI6MDBBTSwgVGh1cnNkYXk8L3NwYW4%2BPHNwYW4gY2xhc3M9InJpZ2h0Ij48ZW0gY2xhc3M9ImNvbW1lbnRzIj48L2VtPjwvc3Bhbj48L2Rpdj48L3RkPjwvdHI%2BPC90YWJsZT48L3RkPjwvdHI%2BPC90YWJsZT5kZAIKD2QWAgIBDw8WAh8FBYwIPHRhYmxlIHdpZHRoPSIxMDAlIj48dHI%2BPHRkIHZhbGlnbj0idG9wIj48ZGl2IGNsYXNzPSJkYXRlIj48c3BhbiBjbGFzcz0ibW9udGgiPkF1Zzwvc3Bhbj48c3BhbiBjbGFzcz0iZGF5Ij4xMDwvc3Bhbj48L2Rpdj48L3RkPjx0ZD48dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9Im5ld3NpbWciPjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIxOCI%2BPGltZyBzcmM9Imh0dHA6Ly9pbWFnZS5wb2xsc3Rhci5jb20vV2VibG9nRmlsZXMvcG9sbHN0YXIvMTYwODAyMDUyNDA2MzY5ODY3OV92My5qcGciIGFsdD0iUGhvdG8iIGNsYXNzPSJwaG90b25ld3MiLz48L2E%2BPC9kaXY%2BPGg0PjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIxOCI%2BTE4gU3VlZCBPdmVyIDIwMTQgSEFSRCBEZWF0aDwvYT48L2g0PjxwIGNsYXNzPSJIb21lUGFnZVRlYXNlciI%2BQWxyZWFkeSBmYWNpbmcgY2hhcmdlcyBvZiB3cm9uZ2Z1bCBkZWF0aCBmcm9tIHRoZSBmYW1pbHkgb2YgYSBkZWNlYXNlZCBjb25jZXJ0Z29lciBhdCBIQVJEIFN1bW1lciAyMDE1LCBMaXZlIE5hdGlvbiBub3cgZmFjZXMgYW5vdGhlciBzdWl0IGZvciB0aGUgZGVhdGggb2YgYSB0ZWVuYWdlciBhdCB0aGUgMjAxNCBpbmNhcm5hdGlvbiBvZiB0aGUgZmVzdGl2YWwuIMKgCjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIxOCIgQ2xhc3M9InV0aWxpdHlfYmx1ZSI%2BbW9yZTwvYT48L3A%2BPGRpdiBjbGFzcz0ibWV0YSI%2BPHNwYW4gY2xhc3M9ImRhdGUiPjAyOjAyUE0sIFdlZG5lc2RheTwvc3Bhbj48c3BhbiBjbGFzcz0icmlnaHQiPjxlbSBjbGFzcz0iY29tbWVudHMiPjwvZW0%2BPC9zcGFuPjwvZGl2PjwvdGQ%2BPC90cj48L3RhYmxlPjwvdGQ%2BPC90cj48L3RhYmxlPmRkAgsPZBYCAgEPDxYCHwUFtgc8dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9ImRhdGUiPjxzcGFuIGNsYXNzPSJtb250aCI%2BQXVnPC9zcGFuPjxzcGFuIGNsYXNzPSJkYXkiPjEwPC9zcGFuPjwvZGl2PjwvdGQ%2BPHRkPjx0YWJsZSB3aWR0aD0iMTAwJSI%2BPHRyPjx0ZCB2YWxpZ249InRvcCI%2BPGRpdiBjbGFzcz0ibmV3c2ltZyI%2BPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjE0Ij48aW1nIHNyYz0iaHR0cDovL2ltYWdlLnBvbGxzdGFyLmNvbS9XZWJsb2dGaWxlcy9wb2xsc3Rhci8xMjEyMTcxMDQ5MjQ3NDIxNTcwX3YzLmpwZyIgYWx0PSJQaG90byIgY2xhc3M9InBob3RvbmV3cyIvPjwvYT48L2Rpdj48aDQ%2BPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjE0Ij5Ob3VzIFByb2R1Y3Rpb25zIE1vdmVzIFRvIExpdmUgTmF0aW9uPC9hPjwvaDQ%2BPHAgY2xhc3M9IkhvbWVQYWdlVGVhc2VyIj5XYXJuZXIgTXVzaWMgRnJhbmNlLCB3aGljaCBib3VnaHQgTm91cyBpbiAyMDEwLCB0cmFuc2ZlcnJlZCB0aGUgRnJlbmNoIGNvbmNlcnQgcHJvbW90aW9ucyBjb21wYW55IHRvIExpdmUgTmF0aW9uLsKgCjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PTAmY29tPTEmQXJ0aWNsZUlEPTgyNjIxNCIgQ2xhc3M9InV0aWxpdHlfYmx1ZSI%2BbW9yZTwvYT48L3A%2BPGRpdiBjbGFzcz0ibWV0YSI%2BPHNwYW4gY2xhc3M9ImRhdGUiPjEyOjA1UE0sIFdlZG5lc2RheTwvc3Bhbj48c3BhbiBjbGFzcz0icmlnaHQiPjxlbSBjbGFzcz0iY29tbWVudHMiPjwvZW0%2BPC9zcGFuPjwvZGl2PjwvdGQ%2BPC90cj48L3RhYmxlPjwvdGQ%2BPC90cj48L3RhYmxlPmRkAgwPZBYCAgEPDxYCHwUF4gc8dGFibGUgd2lkdGg9IjEwMCUiPjx0cj48dGQgdmFsaWduPSJ0b3AiPjxkaXYgY2xhc3M9ImRhdGUiPjxzcGFuIGNsYXNzPSJtb250aCI%2BQXVnPC9zcGFuPjxzcGFuIGNsYXNzPSJkYXkiPjEwPC9zcGFuPjwvZGl2PjwvdGQ%2BPHRkPjx0YWJsZSB3aWR0aD0iMTAwJSI%2BPHRyPjx0ZCB2YWxpZ249InRvcCI%2BPGRpdiBjbGFzcz0ibmV3c2ltZyI%2BPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjEzIj48aW1nIHNyYz0iaHR0cDovL2ltYWdlLnBvbGxzdGFyLmNvbS9XZWJsb2dGaWxlcy9wb2xsc3Rhci8xNDEwMDgwNTIzNDI1NTMyODU3X3YzLmpwZyIgYWx0PSJQaG90byIgY2xhc3M9InBob3RvbmV3cyIvPjwvYT48L2Rpdj48aDQ%2BPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjEzIj5Eb3ZlIEF3YXJkIE5vbWluZWVzPC9hPjwvaDQ%2BPHAgY2xhc3M9IkhvbWVQYWdlVGVhc2VyIj5DaHJpc3RpYW4gc29uZ3dyaXRlciBKYXNvbiBJbmdyYW0gaGFzIHNldmVuIG5vbWluYXRpb25zIGF0IHRoaXMgeWVhcidzIERvdmUgQXdhcmRzLCBpbmNsdWRpbmcgc29uZyBvZiB0aGUgeWVhciwgd2hpbGUgc2luZ2VyIExhdXJlbiBEYWlnbGUgaGFzIHNpeCwgaW5jbHVkaW5nIGFydGlzdCBvZiB0aGUgeWVhci4KPGEgaHJlZj0iaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9MCZjb209MSZBcnRpY2xlSUQ9ODI2MjEzIiBDbGFzcz0idXRpbGl0eV9ibHVlIj5tb3JlPC9hPjwvcD48ZGl2IGNsYXNzPSJtZXRhIj48c3BhbiBjbGFzcz0iZGF0ZSI%2BMTI6MDFQTSwgV2VkbmVzZGF5PC9zcGFuPjxzcGFuIGNsYXNzPSJyaWdodCI%2BPGVtIGNsYXNzPSJjb21tZW50cyI%2BPC9lbT48L3NwYW4%2BPC9kaXY%2BPC90ZD48L3RyPjwvdGFibGU%2BPC90ZD48L3RyPjwvdGFibGU%2BZGQCBw8PFgIfAAVGaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9MjMmY2F0PTMmaWQ9bmV3c2RkAgUPZBYCAgEPZBYCZg9kFg5mDxYEHgVjbGFzcwUMaG9tZXBvZHJpZ2h0HwFnZAIEDxYCHwFnZAIGDxYCHwFnZAIIDxYEHwgFDGhvbWVwb2RyaWdodB8BZxYCAgEPFgIfBgIIFhJmD2QWAgIBDw8WBB8ABUdodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0mY29tPTEmQXJ0aWNsZUlEPTgyNTcxMh8FBR4yMDE2IE1pZCBZZWFyIFNwZWNpYWwgRmVhdHVyZXNkZAIBD2QWAgIBDw8WBB8ABUdodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0mY29tPTEmQXJ0aWNsZUlEPTgyMzg0NR8FBRYxUSBUaWNrZXQgU2FsZXMgQ2hhcnRzZGQCAg9kFgICAQ8PFgQfAAVHaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vTmV3c0NvbnRlbnQuYXNweD9jYXQ9JmNvbT0xJkFydGljbGVJRD04MjI4MDYfBQUTUG9sbHN0YXIgTGl2ZSEgMjAxNmRkAgMPZBYCAgEPDxYEHwAFR2h0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL05ld3NDb250ZW50LmFzcHg%2FY2F0PSZjb209MSZBcnRpY2xlSUQ9ODIyODM4HwUFFlBvbGxzdGFyIEF3YXJkIFdpbm5lcnNkZAIED2QWAgIBDw8WBB8ABUdodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0mY29tPTEmQXJ0aWNsZUlEPTgyMzEwOB8FBScyMDE2IE1ham9yIEV1cm8gTXVzaWMgRmVzdGl2YWwgQ2FsZW5kYXJkZAIFD2QWAgIBDw8WBB8ABUdodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0mY29tPTEmQXJ0aWNsZUlEPTgyMjIwNB8FBR4yMDE1IFllYXIgRW5kIFN0YXRzICYgQW5hbHlzaXNkZAIGD2QWAgIBDw8WBB8ABUdodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0mY29tPTEmQXJ0aWNsZUlEPTgyMTk2OR8FBSQyMDE2IEdsb2JhbCBGZXN0aXZhbCBFdmVudHMgQ2FsZW5kYXJkZAIHD2QWAgIBDw8WBB8ABUdodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2NhdD0mY29tPTEmQXJ0aWNsZUlEPTgyMzYwMh8FBSFQb2xsc3RhciBMaXZlISBhbmQgQXdhcmRzIEFyY2hpdmVkZAIID2QWAgIBDw8WAh8ABUdodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0yMyZjYXQ9MjYmaWQ9bmV3c2RkAgoPFgIfCAUMaG9tZXBvZHJpZ2h0FgwCAQ8PFgofBAVSaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9NjYmaWQ9cGhvdG9zJkdhbGxlcnlJRD0yNzExOR8BZx4EXyFTQgKAAh4FV2lkdGgbAAAAAAAAbkABAAAAHwcFJS9OZXdzUGhvdG9zL2lib2NvcmlubmViYWlsZXlIUl9GQS5qcGdkZAIDDw8WBh8FBStJbnRlcm5hdGlvbmFsIExpdmUgU2hvdHMgV2VlayBPZiAwOC8xNS8yMDE2HwQFUmh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTY2JmlkPXBob3RvcyZHYWxsZXJ5SUQ9MjcxMTkfAWhkZAIFDw8WBB8FBStJbnRlcm5hdGlvbmFsIExpdmUgU2hvdHMgV2VlayBPZiAwOC8xNS8yMDE2HwAFUmh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTY2JmlkPXBob3RvcyZHYWxsZXJ5SUQ9MjcxMTlkZAIHDw8WBB8FBYYCPHA%2BPGI%2BQ29yaW5uZSBCYWlsZXkgUmFlPC9iPiBzdHJ1dHMgaGVyIHN0dWZmIGR1cmluZyB0aGUgPGI%2BQmx1ZSBCYWxscyBGZXN0aXZhbCA8L2I%2BYXQgS0tMIFBhdmlsaW9uIGluIEx1Y2VybmUsIFN3aXR6ZXJsYW5kLCBKdWx5IDI5LjxhIGhyZWY9Imh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTY2JmlkPXBob3RvcyZHYWxsZXJ5SUQ9MjcxMTkiIGNsYXNzPSJ1dGlsaXR5X2NhcHRpb24iPm1vcmU8L2E%2BPC9wPh8BZ2RkAgkPDxYCHwFnZGQCCw8WAh8GAgIWBAIBD2QWAgIBDw8WBB8ABVJodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD02NiZpZD1waG90b3MmR2FsbGVyeUlEPTI3MTE4HwUFHUxpdmUgU2hvdHMgV2VlayBPZiAwOC8xNS8yMDE2ZGQCAg9kFgICAQ8PFgQfAAVSaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9NjYmaWQ9cGhvdG9zJkdhbGxlcnlJRD0yNzExNx8FBRxCYWNrc3RhZ2UgV2VlayBPZiAwOC8xNS8yMDE2ZGQCDA8WAh8IBQxob21lcG9kcmlnaHQWBgIBDw8WCh8KGwAAAAAAAG5AAQAAAB4HVG9vbFRpcAUjQ3VycmVudCBQcmludCBFZGl0aW9uOiBBdWcgMTUsIDIwMTYfBwVJaHR0cDovL2ltYWdlLnBvbGxzdGFyLmNvbS9XZWJsb2dGaWxlcy9wb2xsc3Rhci8xNjA4MDQwNTQ1Mjc4NzI4NDEzX3YxLmpwZx8EBVtodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9OZXdzQ29udGVudC5hc3B4P2lkPW5ld3MmY2F0PTIxJmNvbT0xJmhvdHN0YXI9MSZBcnRpY2xlSUQ9ODAxMTE0HwkCgAJkZAIDDw8WAh8FBRxTdGljayBGaWd1cmU8QlI%2BQXVnIDE1LCAyMDE2ZGQCBQ8PFgQfBQUgIkJ1eSBDdXJyZW50IFByaW50IEVkaXRpb24gSGVyZSIfAAVLaHR0cHM6Ly9zdG9yZS5wb2xsc3Rhci5jb20vcC00MjAtc3RpY2stZmlndXJlYnJhdWd1c3QtMTUtMjAxNi5hc3B4P3NraW5pZD0yZGQCEA8WAh8BZ2QCBQ9kFgJmD2QWFAIBDw8WAh8ABSBodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9hYm91dGRkAgMPDxYCHwAFRGh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTIzMjAxJmlkPWZvcm1zZGQCBQ8PFgIfAAVFaHR0cHM6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTE1MDIyJmlkPWZvcm1zZGQCBw8PFgIfAAUiaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vY2FyZWVyc2RkAgkPDxYCHwAFQ2h0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL29wZW5jb250ZW50LmFzcHg%2FQXJ0aWNsZUlEPTIzMTAxJmlkPWhvbWVkZAILDw8WAh8ABUNodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0xNjIzNiZpZD1ob21lZGQCDQ8PFgIfAAVAaHR0cDovL3d3dy5wb2xsc3RhcnByby5jb20vb3BlbmNvbnRlbnQuYXNweD9BcnRpY2xlSUQ9NjgmaWQ9aG9tZWRkAg8PDxYCHwAFJGh0dHA6Ly93d3cucG9sbHN0YXJwcm8uY29tL3NpdGVpbmRleGRkAhEPDxYCHwUFBDIwMTZkZAITDw8WAh8ABUFodHRwOi8vd3d3LnBvbGxzdGFycHJvLmNvbS9vcGVuY29udGVudC5hc3B4P0FydGljbGVJRD0yNzQmaWQ9aG9tZWRkAgUPZBYCZg88KwAJAGQYAgUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgQFEmN0bDE2JGxvZ2luTGlua0J0bgUQY3RsMTYkcmVtZW1iZXJNZQUOY3RsMTgkaW1nVGl0bGUFFWN0bDE4JGltZ0N1cnJlbnRJc3N1ZQUpY3RsMTgkQm94T2ZmaWNlQ29udHJvbCRsaXN0Vmlld0JveENvbnRyb2wPFCsADmRkZGRkZGQ8KwAPAAIPZGRkZgL%2F%2F%2F%2F%2FD2SdyOmiCn3OGQfGnNIaE%2Fbq7j2Mb8W%2BkXhIY9Yyr4hOAg%3D%3D&__VIEWSTATEGENERATOR=CA0B0334&__PREVIOUSPAGE=WtQjsF13-cGetgl9-v-ouonEm68bMArH-gj_9QPuJzv0DQCKcMyLgxAPOU5iLJt2TQpIChiJySxtygkdLJnWM6fAck87zc5PFcJc5QoMzsY1&__EVENTVALIDATION=%2FwEdAAdQL8sQAHDrzM8lonQcS%2Fe6YrIMHunu2QneR3TaCFF1VDwH8zVE2fCNui2EC0%2BqFOYqk7mq%2BzdYoEiJLOk7Idz%2F%2BylRfDsyEwrAAQEcGerkejqDQ727yoNmAzUdXhbr0pfTqKAjVEqzvrGVEdXMD5tZ9XPMaoROvnkxhBEelHor2kw2racPeri1DfcSvkBgDH8%3D&ctl16%24userNameText=drexel&ctl16%24passwordText=dragons&ctl16%24loginLinkBtn.x=25&ctl16%24loginLinkBtn.y=7&ctl16%24rememberMe=on';
	let headers = {
		'Origin': 'http://pollstarpro.com',
    'Accept-Encoding': 'gzip, deflate, br',
    'Accept-Language': 'en-US,en;q=0.8',
    'Upgrade-Insecure-Requests': '1',
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
    'Content-Type': 'application/x-www-form-urlencoded',
    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
    'Cache-Control': 'max-age=0',
    'Referer': 'http://pollstarpro.com/',
    'Connection': 'keep-alive',
    'Cookie': 'PollstarPro=unique_id=20680&unique_name=drexel&preference=both; PollstarProSearch=lastsearchtype=Tour History; __utmt=1; __utma=189822890.709585432.1469940799.1470426720.1470948574.13; __utmb=189822890.1.10.1470948574; __utmc=189822890; __utmz=189822890.1469940799.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none)'
	}

	return new Promise((resolve, reject)=> {
		agent
		.post('https://www.pollstarpro.com/controls/content/mainLoginHandler.aspx')
		.set(headers)
		.send(dataString)
		.end((err, res)=> {
			if(err) {
				reject(err)
			}
			else {
				resolve(res.headers)
			}
		})
	})
}

export function getSimilarArtists(artistName) {
	return new Promise((resolve, reject)=> {
		let url = `http://www.similar-artist.com/similarto/artist/${artistName}/`
		let similarArtists = []
		osmosis
		.get(url)
		.find('#listing > div > h1')
		.set('similarArtist')
		.data((similarArtist)=> {
			similarArtists.push(similarArtist)
		})
		.then(()=> resolve(similarArtists))
		.error((err)=> console.log(err))
	})
	
}


export function queryForArtistOnNextBigSound(query, accessToken) {
	return new Promise((resolve, reject)=> {
		agent
		.get(`https://api.nextbigsound.com/search/v1/artists/?access_token=${accessToken}&fields=id,scores&limit=1&query=${query}`)
		.end((err, res)=> {
			if(err) {
				reject(err)
			}
			resolve(res.body.artists[0])
		})
	})
}

export function getNextBigSoundArtistDetails(url, endpointName) {
	return new Promise((resolve, reject)=> {
		agent
		.get(url)
		.end((err, res)=> {
			if(err) {
				reject(err)
			}
			resolve(Object.assign({}, {endpointName}, res.body))
		})
	})
}

export const authWithNextBigSound = (email, password) => {
	var headers = {
    'Pragma': 'no-cache',
    'Origin': 'https://www.nextbigsound.com',
    'Accept-Encoding': 'gzip, deflate, br',
    'Accept-Language': 'en-US,en;q=0.8,sv;q=0.6',
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36',
    'Content-Type': 'application/x-www-form-urlencoded',
    'Accept': 'application/json, text/plain, */*',
    'Cache-Control': 'no-cache',
    'Referer': 'https://www.nextbigsound.com/login',
    'Connection': 'keep-alive',
    'Cookie': 'ajs_anonymous_id=%22f61fd88a-7973-42b7-9beb-a0ff09db4f2e%22; intercom-id-q2f7lfq7=8cc04ad2-a1db-4bc5-94a2-dc6269494aa3; nbs_session_104163=1497900482123; nbsnextbigsound=%2F5QxHu7QRoxOy3mUVgeL7%2FR7Ps3T9BLzoZbbZOBaqT0b%2BwWX2BYRHaOt%2B%2F5nO%2BKMOb3b5TT0Rqx0X96xTtDTYgEl8Xk%2BfRUm20g7IiNHbYy%2FE14E7xLOoovlM3YcZWVyiFPJxS4Zb7ESbkROXBFZLVOI%2ForZKSdGF5dUQG3%2Fr4w4wJshc%2BEp91aYp68km4XUIIllWGem3RCNWV2NqxsgrsF2%2BURs0jrZPW9rsKdk%2Fq50qNWYOb55x9%2B4D3omBJYaRFudaVLEH14SSvQE6C9oYmySiJT5OKTgOksiP%2Fi8%2FxMV4JWEkmb9JB9Eqg9Ie%2FEjnmFYTHOVUS7XJDhwah043wwH3g5qClxwvkfubVfOaorxCduPjh58g8t%2Ff8wDhhBQDAXk%2F1F3zXdJzaGrRxgdO2dohjxBCmXbAHLmw9T7QbymPeFKcOy1hFGVHL27FN94yQQLtL7mEZhF8%2BG6JjBhUPuvWvwiEcavVUznUAlBAmhE1eApTSAUtM7D1kb%2F90jh%2Bwfyr%2Fxab%2B1ZyIf%2FHHXe4UAZDquWE9IhZvIQpVNdHHROmXdbFxHHG8mpjzPiWJUCgwhXfjaEYz5wlHrz6peFzfT3NVjO%2B2cCM%2FE5aL1sbYc0p9o5XJmr5ZbuZglBDZpt; ajs_user_id=null; ajs_group_id=null; _ga=GA1.2.2034607485.1497900422; _gid=GA1.2.1116454679.1497900422; nbs_session_undefined=1497900420707; _gat=1; mp_6d5caf06c10b5188d017a873c42de6a0_mixpanel=%7B%22distinct_id%22%3A%20%2215cc1d2943f1-0459a0cc2dd7a7-30657509-13c680-15cc1d294403d%22%2C%22mp_lib%22%3A%20%22Segment%3A%20web%22%2C%22%24search_engine%22%3A%20%22google%22%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.google.com%2F%22%2C%22%24initial_referring_domain%22%3A%20%22www.google.com%22%2C%22__mps%22%3A%20%7B%22%24os%22%3A%20%22Mac%20OS%20X%22%2C%22%24browser%22%3A%20%22Chrome%22%2C%22%24browser_version%22%3A%2058%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.google.com%2F%22%2C%22%24initial_referring_domain%22%3A%20%22www.google.com%22%2C%22Last%20New%20Session%20Started%22%3A%20%222017-06-19T19%3A28%3A02%22%7D%2C%22__mpso%22%3A%20%7B%7D%2C%22__mpa%22%3A%20%7B%22New%20Session%20Started%22%3A%202%7D%2C%22__mpu%22%3A%20%7B%7D%2C%22__mpap%22%3A%20%5B%5D%7D; mp_mixpanel__c=4'
	};
	return new Promise((resolve, reject) => {
		agent
		.post('https://www.nextbigsound.com/api/auth/login')
		.set(headers)
		.send({email, password})
		.end((err, res) => {
			if(!!err) {
				reject(err)
			}
			else {
				resolve(res.body.user.access_token)
			}
		})
	})
}
export function getNextBigSoundHomePageInitial() {
	let headers = {
		'User-Agent':'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36',
		'Connection': 'keep-alive',
		'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
		'Accept-Encoding':'gzip, deflate, sdch, br',
		'Accept-Language':'en-US,en;q=0.8'
	}
	return new Promise((resolve, reject)=> {
		agent
		.get('https://www.nextbigsound.com/')
		.set(headers)
		.end((err, res)=> {
			if(err) {
				reject(err)
			}
			resolve(res.headers)
		})
	})
}




